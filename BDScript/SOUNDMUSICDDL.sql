SELECT * FROM ALBUM;
SELECT * FROM PAIS;
SELECT * FROM CIUDAD;
SELECT * FROM CONTACTO;
SELECT * FROM ARTISTA;
SELECT * FROM PERMISO;
SELECT * FROM LOG_AUDITORIA;
SELECT * FROM EMPRESA_DIFUSORA;
SELECT * FROM ARTISTA_EMPRESA;
SELECT * FROM COSTO_ACTIVITIDAD;
SELECT * FROM LOGRO;
SELECT * FROM LOGRO_ARTISTA;
SELECT * FROM PERFIL;
SELECT * FROM PERFIL_PERMISO;
SELECT * FROM REGALIA;
SELECT * FROM TIPO_ACTIVIDAD;
SELECT * FROM USUARIO;
SELECT * FROM USUARIO_LOGIN;

SELECT PRIMER_NOMBRE,SEGUNDO_NOMBRE,PRIMER_APELLIDO,SEGUNDO_APELLIDO,
                NOMBRE_ARTISTICO,GENERO,FECHA_NACIMIENTO,FECHA_CREACION,STATUS,ID_CONTACTO
                FROM ARTISTA
                WHERE ID_ARTISTA=6;

--SELECCIONAR TODOS LOS ARTISTAS
SELECT ID_ARTISTA,PRIMER_NOMBRE,SEGUNDO_NOMBRE,PRIMER_APELLIDO,SEGUNDO_APELLIDO,
NOMBRE_ARTISTICO,GENERO,FECHA_NACIMIENTO,FECHA_CREACION,STATUS,ID_CONTACTO
FROM ARTISTA;

--SELECCIONAR TODOS LOS ARTISTAS CON CONTACTOS, CIUDAD Y PAIS
SELECT AR.ID_ARTISTA, AR.PRIMER_NOMBRE, AR.SEGUNDO_NOMBRE, AR.PRIMER_APELLIDO, AR.SEGUNDO_APELLIDO, AR.NOMBRE_ARTISTICO, AR.GENERO, 
AR.FECHA_NACIMIENTO, AR.FECHA_CREACION, AR.STATUS, CONT.ID_CONTACTO AS CONTACTO, CONT.CELULAR AS CELULAR, CONT.TELEFONO AS TELEFONO,
CONT.DIRECCION AS DIRECCION, CONT.BARRIO AS BARRIO, CONT.EMAIL AS EMAIL, CIU.ID_CIUDAD AS CIUDAD, CIU.NOMBRE AS NOMBRE_CIUDAD,
PA.ID_PAIS AS PAIS, PA.NOMBRE AS NOMBRE_PAIS
FROM ARTISTA AR INNER JOIN CONTACTO CONT
ON AR.ID_CONTACTO = CONT.ID_CONTACTO
INNER JOIN CIUDAD CIU
ON CONT.ID_CIUDAD = CIU.ID_CIUDAD
INNER JOIN PAIS PA
ON CIU.ID_PAIS = PA.ID_PAIS ORDER BY AR.ID_ARTISTA;

--SELECCIONAR UN SOLO ARTISTA
SELECT PRIMER_NOMBRE,SEGUNDO_NOMBRE,PRIMER_APELLIDO,SEGUNDO_APELLIDO,
NOMBRE_ARTISTICO,GENERO,FECHA_NACIMIENTO,FECHA_CREACION,STATUS,ID_CONTACTO
FROM ARTISTA
WHERE ID_ARTISTA=1;

--CREAR ARTISTA
INSERT INTO ARTISTA (PRIMER_NOMBRE,SEGUNDO_NOMBRE,PRIMER_APELLIDO,SEGUNDO_APELLIDO,
NOMBRE_ARTISTICO,GENERO,FECHA_NACIMIENTO,FECHA_CREACION,STATUS,ID_CONTACTO)
VALUES (?,?,?,?,?,?,?,?,?,?);

--"ELIMINAR" UN ARTISTA, CAMBIAR EL STATUS
UPDATE ARTISTA
SET STATUS=?
WHERE ID_ARTISTA=?;

--ACTUALIZAR UN ARTISTA
UPDATE ARTISTA
SET PRIMER_NOMBRE=?,SEGUNDO_NOMBRE=?,PRIMER_APELLIDO=?,SEGUNDO_APELLIDO=?,
NOMBRE_ARTISTICO=?,GENERO=?,FECHA_NACIMIENTO=?,FECHA_CREACION=?,STATUS=?,ID_CONTACTO=?
WHERE ID_ARTISTA=?;

UPDATE ARTISTA
SET FECHA_NACIMIENTO= to_date('1998/05/31:12:00:00AM', 'yyyy/mm/dd:hh:mi:ssam')
WHERE ID_ARTISTA=1;

--SELECCIONAR TODAS LAS EMPRESAS DIFUSORAS
SELECT ID_EMPRESA_DIFUSORA,NOMBRE_EMPRESA,FECHA_CREACION,FECHA_TERMINACION,STATUS,
ID_TIPO_EMPRESA, ID_CONTACTO_EMPRESA, ID_COSTO_OPERACION
FROM EMPRESA_DIFUSORA;

-------------------------------------------------------------


------------------------------------------------------------
--ELIMINAR TODAS LAS TABLAS
BEGIN

FOR c IN (SELECT table_name FROM user_tables) LOOP
EXECUTE IMMEDIATE ('DROP TABLE "' || c.table_name || '" CASCADE CONSTRAINTS');
END LOOP;

FOR s IN (SELECT sequence_name FROM user_sequences) LOOP
EXECUTE IMMEDIATE ('DROP SEQUENCE ' || s.sequence_name);
END LOOP;

END;
--------------------------------------------------------------

--PRUEBA ULTIMO ID

select * from PERFIL;

INSERT INTO PERFIL (NOMBRE_PERFIL) VALUES ('ADMINISTRADOR');
INSERT INTO PERFIL (NOMBRE_PERFIL) VALUES ('OPERARIO');

SELECT PERFIL_SEQ.CURRVAL
FROM DUAL;
                
---------------------EMPRESAS DIFUSORAS-----------------------------
--SELECCIONAR TODAS LAS EMPRESAS DIFUSORAS
SELECT ID_EMPRESA_DIFUSORA,NOMBRE,FECHA_CREACION,FECHA_TERMINACION,STATUS,
ID_TIPO_ACTIVIDAD, ID_CONTACTO, ID_COSTO_ACTIVIDAD
FROM EMPRESA_DIFUSORA;

--OBTENER EMPRESA DIFUSORA
SELECT ID_EMPRESA_DIFUSORA,NOMBRE,FECHA_CREACION,FECHA_TERMINACION,STATUS,
ID_TIPO_ACTIVIDAD, ID_CONTACTO, ID_COSTO_ACTIVIDAD
FROM EMPRESA_DIFUSORA
WHERE ID_EMPRESA_DIFUSORA=?;
--CREAR EMPRESA DIFUSORA
INSERT INTO EMPRESA_DIFUSORA (NOMBRE,FECHA_CREACION,FECHA_TERMINACION,STATUS,
ID_TIPO_ACTIVIDAD, ID_CONTACTO, ID_COSTO_ACTIVIDAD)
VALUES (?,?,?,?,?,?,?);

--ELIMINAR EMPRESA DIFUSORA
UPDATE EMPRESA_DIFUSORA
SET STATUS=?
WHERE ID_EMPRESA_DIFUSORA=?;
--ACTUALIZAR EMPRESA DIFUSORA 
UPDATE EMPRESA_DIFUSORA
SET NOMBRE=?,FECHA_CREACION=?,FECHA_TERMINACION=?,STATUS=?,
ID_TIPO_ACTIVIDAD=?, ID_CONTACTO=?, ID_COSTO_ACTIVIDAD=?
WHERE ID_EMPRESA_DIFUSORA=?;


---------------------USUARIO-----------------------------
--OBTENER USUARIOS
SELECT ID_USUARIO,PRIMER_NOMBRE,SEGUNDO_NOMBRE,PRIMER_APELLIDO,SEGUNDO_APELLIDO,
FECHA_CREACION,STATUS,ID_PERFIL_USUARIO,ID_LOGIN_USUARIO,ID_CONTACTO
FROM USUARIO;
--OBTENER USUARIO
SELECT ID_USUARIO,PRIMER_NOMBRE,SEGUNDO_NOMBRE,PRIMER_APELLIDO,SEGUNDO_APELLIDO,
FECHA_CREACION,STATUS,ID_PERFIL_USUARIO,ID_LOGIN_USUARIO,ID_CONTACTO_USUARIO
FROM USUARIO
WHERE ID_USUARIO=?;
--CREAR USUARIO
INSERT INTO USUARIO (PRIMER_NOMBRE,SEGUNDO_NOMBRE,PRIMER_APELLIDO,SEGUNDO_APELLIDO,
FECHA_CREACION,STATUS,ID_PERFIL_USUARIO,ID_LOGIN_USUARIO,ID_CONTACTO_USUARIO)
VALUES (?,?,?,?,?,?,?,?,?);
--ELIMINAR USUARIO
UPDATE USUARIO
SET STATUS=?
WHERE ID_USUARIO=?;
--ACTUALIZAR USUARIO
UPDATE USUARIO
SET PRIMER_NOMBRE=?,SEGUNDO_NOMBRE=?,PRIMER_APELLIDO=?,SEGUNDO_APELLIDO=?,
FECHA_CREACION=?,STATUS=?,ID_PERFIL_USUARIO=?,ID_LOGIN_USUARIO=?,ID_CONTACTO_USUARIO=?
WHERE ID_USUARIO=?;   

---------------------USUARIO_LOGIN-----------------------------

--OBTENER USUARIO_LOGIN
SELECT ID_USUARIO_LOGIN,NOMBRE_USUARIO,CONTRASENA
FROM USUARIO_LOGIN
WHERE ID_USUARIO_LOGIN=?;
--CREAR USUARIO_LOGIN
INSERT INTO USUARIO_LOGIN (NOMBRE_USUARIO,CONTRASENA)
VALUES (?,?);
--ACTUALIZAR USUARIO_LOGIN
UPDATE USUARIO_LOGIN
SET NOMBRE_USUARIO=?,CONTRASENA=?
WHERE ID_USUARIO_LOGIN=?;

---------------------PERIL-----------------------------

--OBTENER PERFIL
SELECT ID_PERFIL, NOMBRE_PERFIL
FROM PERFIL
WHERE= ID_PERFIL=?;
--CREAR PERFIL
INSERT INTO PERFIL (NOMBRE_PERFIL)
VALUES (?);

---------------------PERMISOS----------------------------------------

--CREAR PERMISO
INSERT INTO PERMISOS (NOMBRE_PERMISO)
VALUES (?);
--ACTUALIZAR PERMISO
UPDATE PERMISO
SET NOMBRE_PERMISO=?
WHERE ID_PERMISO=?;

---------------------PERFIL_PERMISO-----------------------------

--OBTENER PERMISOS_POR_PERFIL
SELECT ID_PERFIL_PERMISO,ID_PERFIL,ID_PERMISO
FROM PERFIL_PERMISO;

--OBTENER PERMISOS DE UN PERFIL
SELECT ID_PERFIL_PERMISO,ID_PERFIL,ID_PERMISO
FROM PERFIL_PERMISO
WHERE ID_PERFIL=?;

---------------------LOG_AUDITORIA-----------------------------

--OBTENER TODOS LOG DE AUDITORIA
SELECT ID_LOG_AUDITORIA,FECHA,HORA,ID_USUARIO_LOG,ID_OPERACION_LOG
FROM LOG_AUDITORIA;
--CREAR LOG DE AUDITORIA
INSERT INTO LOG_AUDITORIA (FECHA,HORA,ID_USUARIO_LOG,ID_OPERACION_LOG)
VALUES (?,?,?,?);

---------------------CONTACTO-----------------------------
SELECT * FROM CONTACTO;
--OBTENER CONTACTO
SELECT CELULAR, TELEFONO, DIRECCION, BARRIO, EMAIL, ID_CIUDAD
FROM CONTACTO
WHERE ID_CONTACTO=2;
--OBTENER CONTACTO CON CIUDAD Y PAIS
--CREAR CONTACTO
INSERT INTO CONTACTO (CELULAR, TELEFONO,
DIRECCION, BARRIO, EMAIL, ID_CIUDAD) VALUES (?,?,?,?,?,?)
--ACTUALIZAR CONTACTO
UPDATE CONTACTO
SET  CELULAR=?, TELEFONO=?, DIRECCION=?, BARRIO=?,  EMAIL=?, ID_CIUDAD=?
WHERE ID_CONTACTO=?
--ULTIMO CONTACTO
SELECT CONTACTO_SEQ.CURRVAL
FROM DUAL;

---------------------CIUDAD-----------------------------
SELECT * FROM CIUDAD;
--OBTENER CIUDADES
SELECT ID_CIUDAD, NOMBRE, ID_PAIS 
FROM CIUDAD;
--OBTENER CIUDADES CON PAIS
SELECT CIU.ID_CIUDAD, CIU.NOMBRE AS NOMBRE_CIUDAD, PA.ID_PAIS, PA.NOMBRE AS NOMBRE_PAIS
FROM CIUDAD CIU INNER JOIN PAIS PA
ON CIU.ID_PAIS = PA.ID_PAIS
ORDER BY CIU.ID_CIUDAD;
--OBTENER CIUDAD
SELECT ID_CIUDAD, NOMBRE AS NOMBRE_CIUDAD, ID_PAIS 
FROM CIUDAD
WHERE ID_CIUDAD=3;
--OBTENER CIUDAD CON PAIS
SELECT CIU.ID_CIUDAD, CIU.NOMBRE AS NOMBRE_CIUDAD, PA.ID_PAIS, PA.NOMBRE AS NOMBRE_PAIS
FROM CIUDAD CIU INNER JOIN PAIS PA
ON CIU.ID_PAIS = PA.ID_PAIS
WHERE ID_CIUDAD=3;
--CREAR CIUDAD
INSERT INTO CIUDAD (NOMBRE, ID_PAIS)
VALUES (?,?);
--ACTUALIZAR CIUDAD
UPDATE CIUDAD
SET NOMBRE=?, ID_PAIS=?
WHERE ID_CIUDAD=?;

---------------------PAIS-----------------------------
SELECT * FROM PAIS;
--OBTENER PAISES
SELECT ID_PAIS, NOMBRE
FROM PAIS;
--OBTENER PAIS
SELECT ID_PAIS, NOMBRE
FROM PAIS
WHERE ID_PAIS=1;
--CREAR PAIS
INSERT INTO PAIS (NOMBRE) VALUES (?);
--ACTUALIZAR PAIS
UPDATE PAIS
SET NOMBRE=?
WHERE ID_PAIS=?;


-----------------------------PRUEBAS-----------------------------
SELECT NOMBRE_PERFIL
FROM PERFIL
WHERE ID_PERFIL=1;

SELECT * FROM PERFIL;


SELECT AE.ID_EMPRESA_DIFUSORA, ED.NOMBRE,ED.FECHA_CREACION,ED.FECHA_TERMINACION,ED.STATUS,
ED.RUTA_IMAGEN, ED.ID_TIPO_ACTIVIDAD, ED.ID_CONTACTO,ED.ID_COSTO_ACTIVIDAD
FROM ARTISTA_EMPRESA AE INNER JOIN EMPRESA_DIFUSORA ED 
ON AE.ID_EMPRESA_DIFUSORA = ED.ID_EMPRESA_DIFUSORA 
WHERE AE.ID_ARTISTA=3 ORDER BY ED.ID_EMPRESA_DIFUSORA;

SELECT *
FROM ARTISTA_EMPRESA
WHERE ID_ARTISTA=2
ORDER BY ID_EMPRESA_DIFUSORA;

SELECT ID_ARTISTA_EMPRESA, ID_ARTISTA, ID_EMPRESA_DIFUSORA
FROM ARTISTA_EMPRESA
WHERE ID_EMPRESA_DIFUSORA=4 ORDER BY ID_ARTISTA;

SELECT AE.ID_EMPRESA_DIFUSORA, ED.NOMBRE,ED.FECHA_CREACION,ED.FECHA_TERMINACION,ED.STATUS,
ED.RUTA_IMAGEN, ED.ID_TIPO_ACTIVIDAD, ED.ID_CONTACTO,ED.ID_COSTO_ACTIVIDAD
FROM ARTISTA_EMPRESA AE INNER JOIN EMPRESA_DIFUSORA ED
ON AE.ID_EMPRESA_DIFUSORA = ED.ID_EMPRESA_DIFUSORA
WHERE AE.ID_ARTISTA=1 ORDER BY ED.ID_EMPRESA_DIFUSORA;

                
UPDATE PERMISO
SET NOMBRE_PERMISO='CERRAR SESION'
WHERE ID_PERMISO=2;
            